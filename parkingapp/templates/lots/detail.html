{% extends 'shared/base.html' %}

{% load static %}

{% block content %}
  <h1>{{ lot.name }}</h1>
  <div>
    {% for spot in lot.spots %}
      {% if spot.id not in reservations %}
        <form action="{% url 'parkingapp:lot_details' lot.id user.id %}" method="post">
          {% csrf_token %}
          <p style="list-style-type: none;">Spot #: {{ spot.number }}</p>
          <select id="payment" type="text" name="payment" required>
            <option value="">Select Payment</option>
            {% for payment in payments %}
              <option value="{{ payment.id }}">{{ payment.merchant_name }} {{ payment.expiration_date }}</option>
            {% endfor %}
          </select>
          <select id="vehicle" type="text" name="vehicle" required>
            <option value="">Select vehicle</option>
            {% for vehicle in vehicles %}
              <option value="{{ vehicle.id }}">{{ vehicle.make }} {{ vehicle.model }}</option>
            {% endfor %}
          </select>
          <select name="num_of_hours" id="num_of_hours" required>
            <option value="">Hours to Reserve</option>
            <option value="1">1 Hour</option>
            <option value="3">3 Hours</option>
            <option value="5">5 Hours</option>
          </select>
          <input type="hidden" name="spot" value="{{ spot.id }}">
          <input type="submit" value="Reserve">
        </form>
      {% endif %}
    {% endfor %}
  </div>
{% endblock %}
